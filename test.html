<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test</title>
    <style>
      article {
        border: 1px solid;
        padding: 1rem;
      }

      #listen {
        display: grid;
        grid-template-columns: repeat(3, 3fr);
        gap: 0.5rem;
      }
    </style>
  </head>
  <body>
    <h1>Liste</h1>
    <section id="listen"></section>

    <template>
      <article>
        <h2>Her kommet navnet</h2>
        <p>Tekst</p>
      </article>
    </template>

    <script>
      /******* link til dataen der skal hentes med "endpoint" *********/
      const endpoint = "https://kea-alt-del.dk/t7/api/products?limit=10";

      /********* skabelon consten henter viser indholdet i "template" fra HTML'en, da
       * denne ellers ikke ville blive vist ***********/
      const skabelon = document.querySelector("template").content;
      const sektion = document.querySelector("section");

      /**** henter dataen med funktionen "fetch". res st책r for response.
       * G책 til endpoint (alts책 linket) -> find data -> g책 til funktionen visListe*****/
      fetch(endpoint)
        .then((res) => res.json())
        .then(visListe);

      /******* funktion der viser listen der er blevet hentet *********/
      function visListe(data) {
        data.forEach((piece) => {
          console.log(piece);
          const kopi = skabelon.cloneNode(true);
          kopi.querySelector("h2").textContent = piece.productdisplayname;
          kopi.querySelector("p").textContent = piece.price + ",- kr.";
          sektion.appendChild(kopi);
        });
      }
    </script>
  </body>
</html>
